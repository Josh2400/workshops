---
title: "5 - Feature engineering: splines, target encoding and dates"
subtitle: "Getting More Out of Feature Engineering and Tuning for Machine Learning"
editor_options: 
  chunk_output_type: console
---

We recommend restarting R between each slide deck!

## Setup

```{r}
library(tidymodels)
library(embed)
library(extrasteps)

tidymodels_prefer()
theme_set(theme_bw())
options(pillar.advice = FALSE, pillar.min_title_chars = Inf)
```

## Your turn

Load and explore the `hotel_train` data.

Comes loaded with the modeldata package.

```{r}
# Your code here!

```

## Your turn

Apply B-splines to some variables using `step_spline_b()`.

```{r}
# Your code here!

```

## Your turn

Apply target encoding to the data set, see how it affects different predictors, not just the ones we listed here.

- `step_lencode()`
- `step_lencode_glm()`
- `step_lencode_bayes()`
- `step_lencode_mixed()`

```{r}
# Your code here!

```

## Your turn

Explore the `arrival_date` variable and its relation to `avg_price_per_room`.

The lubridate package might provide helpful.

```{r}
# Your code here!

```

## Your turn

Apply date steps to the `arrival_date` variable and try to see if we capture anything about `avg_price_per_room`.

```{r}
# Your code here!

```